PREFIX    = $(DEVKITARM)/bin/arm-none-eabi
CC        = $(PREFIX)-gcc
CXX       = $(PREFIX)-g++
AR        = $(PREFIX)-ar

# SRCS=../dlls/crossbow.cpp
# SRCS+=../dlls/crowbar.cpp
# SRCS+=../dlls/egon.cpp
# SRCS+=./ev_hldm.cpp
# SRCS+=../dlls/gauss.cpp
# SRCS+=../dlls/handgrenade.cpp
# SRCS+=./hl/hl_baseentity.cpp
# SRCS+=./hl/hl_events.cpp
# SRCS+=./hl/hl_objects.cpp
# SRCS+=./hl/hl_weapons.cpp
# SRCS+=../dlls/glock.cpp
# SRCS+=../dlls/hornetgun.cpp
#SRCS+=../common/interface.cpp
# SRCS+=../dlls/mp5.cpp
# SRCS+=../dlls/python.cpp
# SRCS+=../dlls/rpg.cpp
# SRCS+=../dlls/satchel.cpp
# SRCS+=../dlls/shotgun.cpp
# SRCS+=../dlls/squeakgrenade.cpp
# SRCS+=../dlls/tripmine.cpp
#SRCS+=../game_shared/voice_banmgr.cpp
#SRCS+=../game_shared/voice_status.cpp
# SRCS+=./ammo.cpp
# SRCS+=./ammo_secondary.cpp
# SRCS+=./ammohistory.cpp
# SRCS+=./battery.cpp
# SRCS+=./cdll_int.cpp
# SRCS+=./com_weapons.cpp
# SRCS+=./death.cpp
# SRCS+=./demo.cpp
# SRCS+=./entity.cpp
# SRCS+=./ev_common.cpp
# SRCS+=./events.cpp
# SRCS+=./flashlight.cpp
# SRCS+=./GameStudioModelRenderer.cpp
# SRCS+=./geiger.cpp
# SRCS+=./health.cpp
# SRCS+=./hud.cpp
# SRCS+=./hud_msg.cpp
# SRCS+=./hud_redraw.cpp
#SRCS+=./hud_servers.cpp
# SRCS+=./hud_spectator.cpp
# SRCS+=./hud_update.cpp
# SRCS+=./in_camera.cpp
# SRCS+=./input.cpp
# SRCS+=./input_mouse.cpp
# SRCS+=./input_goldsource.cpp
# SRCS+=./menu.cpp
# SRCS+=./message.cpp
# SRCS+=./overview.cpp
# SRCS+=./parsemsg.cpp
# SRCS_C+=../pm_shared/pm_debug.c
# SRCS_C+=../pm_shared/pm_math.c
# SRCS_C+=../pm_shared/pm_shared.c
# SRCS+=./saytext.cpp
# SRCS+=./status_icons.cpp
# SRCS+=./statusbar.cpp
# SRCS+=./studio_util.cpp
# SRCS+=./StudioModelRenderer.cpp
# SRCS+=./text_message.cpp
# SRCS+=./train.cpp
# SRCS+=./tri.cpp
# SRCS+=./util.cpp
# SRCS+=./view.cpp
# SRCS+=./input_xash3d.cpp
# SRCS+=./scoreboard.cpp
# SRCS+=./MOTD.cpp

SRCS+=./ammo.cpp
SRCS+=./ammohistory.cpp
SRCS+=./ammo_secondary.cpp
SRCS+=./battery.cpp
SRCS+=./buy_preset.cpp
SRCS+=./buy_presets.cpp
SRCS+=./buy_preset_debug.cpp
SRCS+=./buy_preset_weapon_info.cpp
SRCS+=./cdll_int.cpp
SRCS+=./com_weapons.cpp
SRCS+=./cvar_checker.cpp
SRCS+=./death.cpp
SRCS+=./demo.cpp
SRCS+=./draw_util.cpp
SRCS+=./entity.cpp
SRCS+=./events.cpp
SRCS+=./ev_common.cpp
# SRCS+=./ev_hldm.cpp
SRCS+=./flashlight.cpp
SRCS+=./GameStudioModelRenderer.cpp
SRCS+=./geiger.cpp
SRCS+=./health.cpp
SRCS+=./hud.cpp
SRCS+=./hud_msg.cpp
SRCS+=./hud_redraw.cpp
SRCS+=./hud_spectator.cpp
SRCS+=./hud_update.cpp
SRCS+=./hud_vgui2print.cpp
SRCS+=./input.cpp
#SRCS+=./inputw32.cpp
SRCS+=./interpolation.cpp
SRCS+=./in_camera.cpp
SRCS+=./menu.cpp
SRCS+=./message.cpp
SRCS+=./nightvision.cpp
SRCS+=./rain.cpp
SRCS+=./saytext.cpp
SRCS+=./ScenarioStatus.cpp
SRCS+=./SniperScope.cpp
SRCS+=./statusbar.cpp
SRCS+=./status_icons.cpp
SRCS+=./StudioModelRenderer.cpp
SRCS+=./studio_util.cpp
SRCS+=./text_message.cpp
SRCS+=./train.cpp
SRCS+=./tri.cpp
#SRCS+=./unicode_strtools.cpp
SRCS+=./util.cpp
#SRCS+=./vgui_parser.cpp
SRCS+=./view.cpp
SRCS+=./z_weather.cpp
SRCS+=./cs_wpn/cs_baseentity.cpp
SRCS+=./cs_wpn/cs_weapons.cpp
SRCS+=./events/event_ak47.cpp
SRCS+=./events/event_aug.cpp
SRCS+=./events/event_awp.cpp
SRCS+=./events/event_createexplo.cpp
SRCS+=./events/event_createsmoke.cpp
SRCS+=./events/event_czerods.cpp
SRCS+=./events/event_deagle.cpp
SRCS+=./events/event_decal_reset.cpp
SRCS+=./events/event_elite.cpp
SRCS+=./events/event_famas.cpp
SRCS+=./events/event_fiveseven.cpp
SRCS+=./events/event_g3sg1.cpp
SRCS+=./events/event_galil.cpp
SRCS+=./events/event_glock18.cpp
SRCS+=./events/event_knife.cpp
SRCS+=./events/event_m249.cpp
SRCS+=./events/event_m3.cpp
SRCS+=./events/event_m4a1.cpp
SRCS+=./events/event_mac10.cpp
SRCS+=./events/event_mp5n.cpp
SRCS+=./events/event_p228.cpp
SRCS+=./events/event_p90.cpp
SRCS+=./events/event_scout.cpp
SRCS+=./events/event_sg550.cpp
SRCS+=./events/event_sg552.cpp
SRCS+=./events/event_tmp.cpp
SRCS+=./events/event_ump45.cpp
SRCS+=./events/event_usp.cpp
SRCS+=./events/event_vehicle.cpp
SRCS+=./events/event_xm1014.cpp
SRCS+=./events/ev_cs16.cpp
SRCS+=./hl/hl_baseentity.cpp
SRCS+=./hl/hl_events.cpp
SRCS+=./hl/hl_objects.cpp
SRCS+=./hl/hl_weapons.cpp
SRCS+=./hud/money.cpp
SRCS+=./hud/MOTD.cpp
SRCS+=./hud/nvg.cpp
SRCS+=./hud/radar.cpp
SRCS+=./hud/radio.cpp
SRCS+=./hud/scenario.cpp
SRCS+=./hud/scoreboard.cpp
SRCS+=./hud/sniperscope.cpp
SRCS+=./hud/spectator_gui.cpp
SRCS+=./hud/timer.cpp
#SRCS+=./input/input_sdl.cpp
SRCS+=./input/input_xash3d.cpp
SRCS+=./VGUI/backgroundpanel.cpp
SRCS+=./VGUI/basecareermenu.cpp
SRCS+=./VGUI/buymenu.cpp
SRCS+=./VGUI/buypresetimageinfo.cpp
SRCS+=./VGUI/buypresetpanel.cpp
SRCS+=./VGUI/buypreset_editmenu.cpp
SRCS+=./VGUI/buypreset_listbox.cpp
SRCS+=./VGUI/buypreset_mainmenu.cpp
SRCS+=./VGUI/buysubmenu.cpp
SRCS+=./VGUI/CareerBox.cpp
SRCS+=./VGUI/careermatchendmenu.cpp
SRCS+=./VGUI/careerroundendmenu.cpp
SRCS+=./VGUI/counterstrikeviewport.cpp
SRCS+=./VGUI/counterstrikeviewport_interface.cpp
SRCS+=./VGUI/creditsmenu.cpp
SRCS+=./VGUI/CSProgressBar.cpp
SRCS+=./VGUI/cstrikeclassmenu.cpp
SRCS+=./VGUI/cstrikeclientscoreboard.cpp
SRCS+=./VGUI/cstrikespectatorgui.cpp
SRCS+=./VGUI/cstriketeammenu.cpp

OBJS = $(SRCS:.cpp=.o) $(SRCS_C:.c=.o)

INCLUDES = -I../../mainui_3ds/ -I../common -I. -I./include -I./include/hud -I./include/studio -I../public -I../public/regamedll -I../game_shared -I../pm_shared -I../engine -I../dlls -I../utils/false_vgui/include -I../regamedll #-include "classhacks.h"
DEFINES = -Dstricmp=strcasecmp -D_strnicmp=strncasecmp -Dstrnicmp=strncasecmp -D_snprintf=snprintf -DCLIENT_WEAPONS -DCLIENT_DLL -D__3DS__
CFLAGS =  -march=armv6k -mtune=mpcore -mfloat-abi=hard -mtp=soft -O2 -Wl,-q -Wfatal-errors -Wno-write-strings -fsigned-char -fno-short-enums -ffunction-sections -fdata-sections  $(DEFINES) $(INCLUDES)
CXXFLAGS = $(CFLAGS) -fno-exceptions -std=gnu++11 -fno-threadsafe-statics -fpermissive -static-libstdc++ -static-libgcc
ASFLAGS = $(CFLAGS)

all: libclient.a

libclient.a: $(OBJS)
	$(AR) rcs $@ $^

clean:
	@rm -rf libclient.a $(OBJS)
